# setup_environ.R
library(reticulate)

# Set up the Python environment
setup_python_environment <- function(envname = "r-reticulate") {
  if (!reticulate::virtualenv_exists(envname)) {
    message("Creating virtual environment: ", envname)
    reticulate::virtualenv_create(envname)
  }
  reticulate::virtualenv_install(envname, packages = c("numpy", "matplotlib"), ignore_installed = TRUE)
  reticulate::use_virtualenv(envname, required = TRUE)
}
